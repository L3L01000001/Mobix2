<div class="mx-auto" style="max-width: 600px; background-color: white; margin-top:20px;">
    <div class="container" style="width: fit-content;">
      <div class="titlecontainer">
          <h1 class="title">MOBIX</h1>
          <h1 class="title">SHOP</h1>
      </div>
  
      <img src="../assets/LogoPink.png" alt="logo" class="image" />
    </div>
  </div>
  <div id="search" class="mx-auto">
    <!-- <form class="form-inline" asp-action="PrikazProizvoda" asp-controller="Home"> -->
      <input [(ngModel)]="filterProizvod" id="searchbar" type="search" placeholder="Search" aria-label="Search" name="q">
      <button type="button" class="search-button" (click)="search()">Search</button>
    <!-- </form> -->
  </div>
  <div class="container-fluid" style="margin-top:60px;">
    <button id="accentEdit" *ngIf="authService.adminUser" mat-flat-button class="button" (click)="changeEditState()">Edit </button>
    <button id="accentAdd" *ngIf="authService.adminUser" mat-flat-button class="button" (click)="noviProizvod()">Add New Product </button>
    <div class="sort-container">
      <label for="sortSelect">Sort by:</label>
      <select id="sortSelect" [(ngModel)]="odabranaSortOpcija" (change)="onSortChange()">
        <option *ngFor="let option of sortOpcije" [value]="option.value">{{ option.displayName }}</option>
      </select>
    </div>
    <mat-divider class="divider"></mat-divider>
    <div class="col-auto mb-3" style="display:flex; gap: 70px; flex-wrap:wrap;">
      <div *ngFor="let p of proizvodi" class="card" style="width: 18rem;border-color: palevioletred;border-width: 3px;">
          <div class="card-body">
            <button *ngIf="authService.adminUser" class="delete-button" (click)="prikaziModal(p)">
              <img style="width: 20px; height: 20px; margin:auto;" src="../assets/icons8-delete-50.png" />
            </button>
              <img [routerLink]="['/product-details', p.proizvodID]" src="{{p.slikaProizvoda}}" class="card-img-top" height="400px" width="400px" alt="...">
              <h5 class="card-title" style="color:palevioletred; font-family: Helvetica; font-size: 17px; text-align:center; margin-top:10px;"><a [routerLink]="['/product-details', p.proizvodID]" style="color:palevioletred; font-family: Helvetica; font-size: 17px; text-align:center; margin-top:10px;">{{p.naziv}}</a></h5>
              <h4 style="color:palevioletred; font-family: Helvetica; font-size: 17px; font-weight: 700; text-align:center; margin-top:10px;"><a>{{p.cijena}} KM</a></h4>
              <div class="buttons">
                <div class="button-group">
                  <a routerLink="/cart" class="btn" class="card-buttons">Add to Cart</a>
                  <a [routerLink]="['/product-details', p.proizvodID]" class="btn" class="card-buttons">Read More</a>
                </div>
              <a *ngIf="editable==true" [routerLink]="['/product-edit', p.proizvodID]" class="btn card-link" style="text-align:center; background-color:palevioletred; color: white; height: 35px; width: 100px; border-radius: 7px; border: 0; padding: 5px;">Edit</a>
              </div>
              <hr>
          </div>
      </div>
      <app-pagination class="pagination"
        [currentPage]="currentPage"
        [totalPages]="totalPages"
        (pageChange)="onPageChange($event)"
      ></app-pagination>
    </div>
  </div>
  <div *ngIf="showModal" class="modal">
    <div class="modal-content">
      <p>Are you sure you want to delete this product?</p>
      <button class="modal-button" (click)="obrisiProizvod()">Yes</button>
      <button class="modal-button" (click)="otkaziDelete()">Cancel</button>
    </div>
  </div>


  